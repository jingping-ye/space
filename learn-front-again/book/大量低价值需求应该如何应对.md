# 搭建系统:大量低价值需求应该如何应对?

我们从工程的视角来看，“大量紧急不重要的页面”，才是真正的需求。

工程的方式：定目标、设计方案、做实施、拿结果。

## 搭建系统的目标

解决大量的简单页面生产问题。

衡量目标是否达到的指标：生产页面的数量和质量。

设计具体的指标：业务的体量和服务的范围。

> 业务的体量：使用对象的数量和身份
>
> 服务的范围：什么行业，前台还是后台

## 搭建系统的设计

> 搭建系统由数据、模块、模板、页面几种实体组成

### 实体

#### 数据

> 展现界面所需要的信息

#### 类别

##### 数据用途

- 界面配置数据: 决定了页面上颜色、尺寸、位置、图片、文字等展现形式的数据，通常是以页面为单位的配置。 
- 内容数据: 页面要展示的信息，如电商活动页面的商品信息、文章的文字信息等。 

##### 数据来源

-  运营手工填写固定数据：运营人员依靠自己的专业技能决定的数据，可能包含线下招商信息、商品选品、文章等。 
-  来自 API 的数据：固定数据，由服务端逻辑到指定存储处获取的数据；用户相关数据，由算法系统或者服务端逻辑，根据用户信息或者用户喜好推荐的数据。 

针对数据:要设计增、删、改、查的能力。

- 整数：整数编辑器，可用 HTML 原生输入框<input type=number min=1 max=100/>实现。
- 数字：数字编辑器，可用<input type=number min=1.0 max=100.0/>实现字符串：
- 字符串编辑器，可用<input />实现。
- URL：URL 编辑器，可用<input />配合格式校验。
- 图片：图片编辑器，需要自研图片上传功能。
- 固定字段对象：对象和字段编辑器，可用多个<input />和<label>实现。布尔型：开关，可用<select>或者自研组件实现。
- 自由字段对象：需要自研 KV 输入组件。
- 数组：需要自研列表组件实现。
- 对象数组：需要自研表格组件或者列表组件实现/excel导入
- 矩形区域：需要自研区域选择组件。

#### 模块

> 模块是可组合的。跟模板相似的部分如数据连接、版本发布、批量更新
>
> 由模块构成模板

- 可拖拽的模块编辑器
  - 移动端:简单的自上而下布局和拖拽改变位置
  - 桌面端:提供固定的布局模板、布局容器、纯绝对定位布局

#### 模板

> 由前端工程师产生的，具有复用性的一种实体。
>
> 模板简单理解为挖了很多坑的**页面** -->模板可以成页面

- 最简单的模板:字符串模板
- 模板必须是版本化的，前端每发布一个模板，都需要永久存储一条记录，并且在产品设计上必须保持可以回滚。这样，一旦线上发现问题，可以迅速回滚到一个可工作的版本，有效降低不可用时长。
- 批量更新机制???

#### 页面

- 需要版本化发布，便于回滚
- 页面必须提供线上服务
- 自建静态web服务器+cdn回源

>  cdn回源:常规的CDN都是回源的。即：当有用户访问某一个URL的时候，如果被解析到的那个CDN节点没有缓存响应的内容，或者是缓存已经到期，就会回源站去获取。如果没有人访问，那么CDN节点不会主动去源站拿的。 

### 方案

1. 模板化搭建: 模板+数据 = 页面
2. 模块化搭建
3. 数据驱动界面

### 具体实施

1. 系统需要正确识别需求，识别需求时候推行就无需担心
2. 埋点:系统的用户访问数、生产页面的数、下载量



